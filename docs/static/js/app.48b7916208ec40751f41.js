webpackJsonp([1],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=n("VU/8")({name:"App"},i,!1,function(e){n("PTBG")},null,null).exports,s=n("/ocq");function l(e,t){-1==e.indexOf(t)&&e.push(t)}function o(e,t){return-1!==e.replace(/\s+/g,"").indexOf(t)}var c={name:"Listing",data:function(){return{msg:"",selected:"",name:"",checkedRows:[]}},props:["listEntries"],computed:{deleteButtonText:function(){var e=this.$data.checkedRows;return null==e||0==e.length?"Einträge Löschen":1==e.length?"1 Eintrag löschen":e.length+" Einträge löschen"},filterOptions:function(){var e=this,t=[];return this.$props.listEntries.slice(0).forEach(function(e){l(t,e.vorname+" "+e.nachname),l(t,e.anrede),l(t,e.briefanrede),l(t,e.geschlecht)}),t.filter(function(t){return t.toString().toLowerCase().indexOf(e.name.toLowerCase())>=0})},filteredData:function(){var e=this.$data.name;if(""===e||null===e)return this.$props.listEntries;e=e.replace(/\s+/g,"");var t=[];return this.$props.listEntries.slice(0).forEach(function(n){(o(n.vorname+" "+n.nachname,e)||o(n.anrede,e)||o(n.briefanrede,e)||o(n.geschlecht,e))&&t.push(n)}),t}},methods:{deleteCheckedRows:function(){var e=this.$data.checkedRows;this.$emit("delete-entries",e),this.$data.checkedRows=[]}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-field",{staticClass:"search-input"},[n("b-autocomplete",{attrs:{rounded:"",data:e.filterOptions,placeholder:"Suchwort",icon:"magnify",id:"search-input-field"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[n("template",{slot:"empty"},[e._v("Keine Ergebnisse")])],2)],1),e._v(" "),n("b-table",{attrs:{data:e.filteredData,"checked-rows":e.checkedRows,checkable:"",id:"persisted-address-table"},on:{"update:checkedRows":function(t){e.checkedRows=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-table-column",{attrs:{field:"anrede",label:"Anrede"}},[e._v("\n        "+e._s(t.row.anrede)+"\n      ")]),e._v(" "),n("b-table-column",{attrs:{field:"briefanrede",label:"Briefanrede"}},[e._v("\n        "+e._s(t.row.briefanrede)+"\n      ")]),e._v(" "),n("b-table-column",{attrs:{field:"titel",label:"Titel"}},[e._v("\n        "+e._s(t.row.titel)+"\n      ")]),e._v(" "),n("b-table-column",{attrs:{field:"geschlecht",label:"Geschlecht"}},[e._v("\n        "+e._s(t.row.geschlecht)+"\n      ")]),e._v(" "),n("b-table-column",{attrs:{field:"vorname",label:"Vorname"}},[e._v("\n        "+e._s(t.row.vorname)+"\n      ")]),e._v(" "),n("b-table-column",{attrs:{field:"nachname",label:"Nachname"}},[e._v("\n        "+e._s(t.row.nachname)+"\n      ")])]}}])},[n("template",{slot:"empty"},[n("section",{staticClass:"section"},[n("div",{staticClass:"content has-text-grey has-text-centered"},[n("p",[n("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),e._v(" "),n("p",[e._v("Noch keine Kontakte eingetragen.")])])])])],2),e._v(" "),n("p",{staticClass:"control is-pulled-right"},[n("button",{staticClass:"button is-primary",attrs:{disabled:0==e.checkedRows.length,id:"delete-entry-button"},domProps:{textContent:e._s(e.deleteButtonText)},on:{click:function(t){e.deleteCheckedRows()}}})])],1)},staticRenderFns:[]};var u=n("VU/8")(c,d,!1,function(e){n("gFsk")},"data-v-64e7d67d",null).exports,h=n("fZjL"),f=n.n(h),m=n("BO1k"),g=n.n(m),p=n("d7EF"),v=n.n(p),b=n("c/Tr"),y=n.n(b),w=n("Zrlr"),k=n.n(w),_=n("wxAW"),C=n.n(_),z=n("ifoU"),S=n.n(z),x=function(){function e(){k()(this,e)}return C()(e,null,[{key:"getTitles",value:function(){return this.titles}},{key:"getSalutations",value:function(){return this.salutations}},{key:"getDefaultSalutation",value:function(){return this.defaultSalutation}}]),e}();x.titles=new S.a([["prof.",{title:"Professor",kurzBz:"Prof."}],["professor",{title:"Professor",kurzBz:"Prof."}],["dr.",{title:"Doktor",kurzBz:"Dr."}],["doktor",{title:"Doktor",kurzBz:"Dr."}],["dipl.",{title:"Diplom",kurzBz:"Dipl."}],["diplom",{title:"Diplom",kurzBz:"Dipl."}],["dr.-ing.",{title:"Doktor Ingenieur",kurzBz:"Dr.-Ing."}],["ing.",{titel:"Ingenieur",kurzBz:"Ing."}]]),x.salutations=new S.a([["Mr.",{geschlecht:"männlich",anrede:"Mr",brief:"Dear Mr"}],["Mr",{geschlecht:"männlich",anrede:"Mr",brief:"Dear Mr"}],["Ms.",{geschlecht:"weiblich",anrede:"Ms",brief:"Dear Ms"}],["Mrs.",{geschlecht:"weiblich",anrede:"Mrs",brief:"Dear Mrs"}],["Ms",{geschlecht:"weiblich",anrede:"Ms",brief:"Dear Ms"}],["Mrs",{geschlecht:"weiblich",anrede:"Mrs",brief:"Dear Mrs"}],["Frau",{geschlecht:"weiblich",anrede:"Frau",brief:"Sehr geehrte Frau"}],["Fr.",{geschlecht:"weiblich",anrede:"Frau",brief:"Sehr geehrte Frau"}],["Herr",{geschlecht:"männlich",anrede:"Herrn",brief:"Sehr geehrter Herr"}],["Hr.",{geschlecht:"männlich",anrede:"Herrn",brief:"Sehr geehrter Herr"}],["Herrn",{geschlecht:"männlich",anrede:"Herrn",brief:"Sehr geehrter Herr"}],["Signora",{geschlecht:"weiblich",anrede:"Signora",brief:"Gentile Signora"}],["Sig.",{geschlecht:"männlich",anrede:"Sig.",brief:"Egregio Signor"}],["M.",{geschlecht:"männlich",anrede:"M",brief:"Monsieur"}],["Mme.",{geschlecht:"weiblich",anrede:"Mme",brief:"Madame"}],["Señora.",{geschlecht:"weiblich",anrede:"Señora.",brief:"Estimada Señora"}],["Señor.",{geschlecht:"männlich",anrede:"Señor.",brief:"Estimado Señor"}]]),x.defaultSalutation="Sehr geehrte Damen und Herren",x.prefix=["zu","von","de","van","vom","y"],x.adelstitel=new S.a([["kaiser",{titel:"Kaiser",anrede:"(Kaiserliche) Majestät"}],["kaiserin",{titel:"Kaiserin",anrede:"(Kaiserliche) Majestät"}],["könig",{titel:"König",anrede:"(Königliche) Majestät"}],["königin",{titel:"Königin",anrede:"(Königliche) Majestät"}],["erzherzog",{titel:"Erzherzog",anrede:"Kaiserliche Hoheit"}],["erzherzogin",{titel:"Erzherzogin",anrede:"Kaiserliche Hoheit"}],["prinz",{titel:"Prinz",anrede:"Kaiserliche Hoheit"}],["großherzog",{titel:"Großherzog",anrede:"Königliche Hoheit"}],["erzherzogin",{titel:"Großherzog",anrede:"Königliche Hoheit"}],["kurfürst",{titel:"Kurfürst",anrede:"Königliche Hoheit"}],["kurfürstin",{titel:"Kurfürst",anrede:"Königliche Hoheit"}],["herzog",{titel:"Herzog",anrede:"Königliche Hoheit"}],["herzogin",{titel:"Herzogin",anrede:"Königliche Hoheit"}],["landgraf",{titel:"Landgraf",anrede:"Hoheit"}],["landgräfin",{titel:"Landgräfin",anrede:"Hoheit"}],["freiherr",{titel:"Freiherr",anrede:"Freiherrn"}]]);var E=function(){function e(){k()(this,e)}return C()(e,null,[{key:"splitRawInput",value:function(e){var t=this,n={},r=!1;if(e=e.toLowerCase(),y()(x.getSalutations().keys()).some(function(n){return t.containsWord(e,n.toLowerCase())})){var i=!0,a=!1,s=void 0;try{for(var l,o=g()(x.getSalutations().entries());!(i=(l=o.next()).done);i=!0){var c=l.value,d=v()(c,2),u=d[0],h=d[1];this.containsWord(e,u.toLowerCase())&&0===f()(n).length&&n.constructor===Object&&(n={anrede:h.anrede,geschlecht:h.geschlecht,briefanrede:h.brief},e=e.replace(u.toLowerCase(),""))}}catch(e){a=!0,s=e}finally{try{!i&&o.return&&o.return()}finally{if(a)throw s}}}0===f()(n).length&&n.constructor===Object&&(n={briefanrede:x.getDefaultSalutation(),anrede:"",geschlecht:""},r=!0);var m=e.split(" ");m=m.filter(function(e){return""!=e});for(var p="",b=0;b<m.length;b++)x.getTitles().has(m[b])?(p+=x.getTitles().get(m[b]).kurzBz+" ",this.removeObjectFromArray(m,m[b]),b-=1):m[b].indexOf(".")>=0&&(p+=m[b]+" ",this.removeObjectFromArray(m,m[b]),b-=1);if(n.titel=this.trim(p),!r){var w=n.briefanrede+" "+p;n.briefanrede=this.trim(w)}var k=n.anrede+" "+p;n.anrede=this.trim(k);for(var _=0;_<m.length;_++)console.log(m[_]),x.adelstitel.has(m[_])&&(n.anrede=this.trim(x.adelstitel.get(m[_]).anrede+" "+n.titel),n.titel=this.trim(n.titel+" "+x.adelstitel.get(m[_]).titel),this.removeObjectFromArray(m,m[_]));if(m.some(function(e){return-1!==e.indexOf(",")})){n.vorname=this.capitalizeFirstLetter(this.trim(m[m.length-1])),this.removeObjectFromArray(m,m[m.length-1]);for(var C="",z=0;z<m.length;z++){C+=m[z].replace(",","")+" "}n.nachname=this.capitalizeFirstLetter(this.trim(C))}else if(m.length>1){x.prefix.some(function(e){return t.containsWord(m[0],e.toLowerCase())})||(n.vorname=this.capitalizeFirstLetter(this.trim(m[0])),this.removeObjectFromArray(m,m[0]));for(var S=function(e){x.prefix.some(function(n){return t.containsWord(m[e],n.toLowerCase())})||(m[e]=t.capitalizeFirstLetter(m[e]))},E=0;E<m.length;E++)S(E);n.nachname=this.trim(m.join(" "))}else 1==m.length&&(n.vorname="",n.nachname=this.capitalizeFirstLetter(this.trim(m[0])));return n}},{key:"addTitles",value:function(e){var t=e.titel.split(" ");t=t.filter(function(e){return""!=e});for(var n=0;n<t.length;n++)x.getTitles().has(t[n])||x.getTitles().set(t[n].toLowerCase(),{title:"Unnötiger Dreck",kurzBz:t[n]})}},{key:"removeObjectFromArray",value:function(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),e}},{key:"trim",value:function(e){for(var t=(e=e.replace(/^\s+/,"")).length-1;t>=0;t--)if(/\S/.test(e.charAt(t))){e=e.substring(0,t+1);break}return e}},{key:"containsWord",value:function(e,t){return-1!==(" "+e+" ").indexOf(" "+t+" ")}},{key:"capitalizeFirstLetter",value:function(e){if(e.indexOf("-")>=0){var t=e.indexOf("-");return e.charAt(0).toUpperCase()+e.slice(1,t+1)+e.charAt(t+1).toUpperCase()+e.slice(t+2)}return e.charAt(0).toUpperCase()+e.slice(1)}}]),e}(),$={name:"InputComponent",data:function(){return{inputRaw:"",entry:{anrede:"",briefanrede:"",geschlecht:"",vorname:"",nachname:""},selected:null,genders:[{id:"männlich",value:"männlich"},{id:"weiblich",value:"weiblich"},{id:"",value:"-"}]}},methods:{buttonHandler:function(e){this.$emit("add-entry",this.$data.entry),E.addTitles(this.$data.entry),this.$data.entry={anrede:"",briefanrede:"",geschlecht:"",vorname:"",nachname:""},this.$data.inputRaw=""},inputHandler:function(e){0==this.$data.inputRaw.length?this.$data.entry={anrede:"",briefanrede:"",geschlecht:"",vorname:"",nachname:""}:this.$data.entry=E.splitRawInput(this.$data.inputRaw)},lastnameHandler:function(e){""===this.$data.entry.nachname&&this.$data.inputRaw.length>0&&this.$snackbar.open("Nachname kann leider nicht leer sein!")},mouseOverBtnHandler:function(e){this.$data.entry.vorname||this.$snackbar.open("Vorname sollte gesetzt sein!")}},computed:{}},H={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-four-fifths"},[n("b-field",[n("b-dropdown",{ref:"dropdown",staticClass:"not-disabled"},[n("b-input",{staticClass:"dropdown-trigger",attrs:{slot:"trigger",type:"text",minlength:"1",rounded:"",maxlength:"99",placeholder:"Setzen Sie Ihre Anrede",id:"address-input-field"},on:{select:function(t){return e.selected=t},input:e.inputHandler},slot:"trigger",model:{value:e.inputRaw,callback:function(t){e.inputRaw=t},expression:"inputRaw"}}),e._v(" "),n("b-dropdown-item",{attrs:{disabled:""}},[n("div",{staticClass:"media"},[n("small",{staticClass:"media-left"},[e._v("Briefanrede")]),e._v(" "),n("div",{staticClass:"media-content"},[n("b-input",{attrs:{rounded:"",type:"text",placeholder:"Briefanrede",id:"dropdown-lettersalutation-input-field"},model:{value:e.entry.briefanrede,callback:function(t){e.$set(e.entry,"briefanrede",t)},expression:"entry.briefanrede"}})],1)]),e._v(" "),n("div",{staticClass:"media"},[n("small",{staticClass:"media-left"},[e._v("Anrede")]),e._v(" "),n("div",{staticClass:"media-content"},[n("b-input",{attrs:{rounded:"",type:"text",placeholder:"Anrede",id:"dropdown-address-input-field"},model:{value:e.entry.anrede,callback:function(t){e.$set(e.entry,"anrede",t)},expression:"entry.anrede"}})],1)]),e._v(" "),n("div",{staticClass:"media"},[n("small",{staticClass:"media-left"},[e._v("Titel")]),e._v(" "),n("div",{staticClass:"media-content"},[n("b-input",{attrs:{rounded:"",type:"text",placeholder:"Titel",id:"dropdown-title-input-field"},model:{value:e.entry.titel,callback:function(t){e.$set(e.entry,"titel",t)},expression:"entry.titel"}})],1)]),e._v(" "),n("div",{staticClass:"media"},[n("small",{staticClass:"media-left"},[e._v("Vor- u. Nachname")]),e._v(" "),n("div",{staticClass:"media-content"},[n("b-input",{attrs:{rounded:"",type:"text",placeholder:"Vorname",id:"dropdown-forename-input-field"},model:{value:e.entry.vorname,callback:function(t){e.$set(e.entry,"vorname",t)},expression:"entry.vorname"}}),n("br"),e._v(" "),n("b-input",{attrs:{minLength:"1",type:"text",rounded:"",placeholder:"Nachname",id:"dropdown-surname-input-field"},on:{input:e.lastnameHandler},model:{value:e.entry.nachname,callback:function(t){e.$set(e.entry,"nachname",t)},expression:"entry.nachname"}})],1)]),e._v(" "),n("div",{staticClass:"media"},[n("small",{staticClass:"media-left"},[e._v("Geschlecht")]),e._v(" "),n("div",{staticClass:"media-content"},[n("b-select",{ref:"select",attrs:{id:"dropdown-gender-select"},model:{value:e.entry.geschlecht,callback:function(t){e.$set(e.entry,"geschlecht",t)},expression:"entry.geschlecht"}},e._l(e.genders,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                        "+e._s(t.value)+"\n                    ")])}))],1)])])],1)],1)],1),e._v(" "),n("div",{staticClass:"column"},[n("button",{staticClass:"button level-right",attrs:{slot:"trigger",disabled:""==e.inputRaw||""==e.entry.nachname,id:"apply-button"},on:{mouseover:e.mouseOverBtnHandler,click:e.buttonHandler},slot:"trigger"},[e._v("Übernehmen")])])])},staticRenderFns:[]};var M=n("VU/8")($,H,!1,function(e){n("muuy")},"data-v-a68da0c0",null).exports,A=n("mvHQ"),F=n.n(A),K=window.localStorage,R=function(e){var t=F()(e);K.setItem("nameEntriesKey",t)},D=function(){function e(){k()(this,e)}return C()(e,null,[{key:"addEntry",value:function(e){if(this.isStorageAvailable){console.log("Persisting entry");var t=this.getAllEntries(),n=K.getItem("counterKey");null==n&&(n=0);var r=parseInt(n)+1;K.setItem("counterKey",r),e.id=r,t.push(e),R(t)}else console.log("Could not persist entry, browser does not support local storage")}},{key:"getAllEntries",value:function(){if(this.isStorageAvailable){var e=K.getItem("nameEntriesKey");return null==e?[]:JSON.parse(e)}console.log("Could not load persisted data, browser does not support local storage")}},{key:"clearAllData",value:function(){this.isStorageAvailable?K.removeItem("nameEntriesKey"):console.log("Could not clear persisted data, browser does not support local storage")}},{key:"deleteEntries",value:function(e){if(!this.isStorageAvailable)return console.log("Could not clear persisted data, browser does not support local storage"),[];var t=this.getAllEntries();return e.forEach(function(e){t=t.filter(function(t){return t.id!=e.id})}),R(t),t}},{key:"isStorageAvailable",value:function(){return"undefined"!=typeof Storage}}]),e}(),L={name:"Main",components:{Listing:u,InputComponent:M},data:function(){return{entries:[]}},methods:{addEntry:function(e){this.$data.entries.push(e),D.addEntry(e)},deleteEntries:function(e){console.log("Deleting "+e.length+" entries.");var t=D.deleteEntries(e);this.$data.entries=t}},created:function(){D.isStorageAvailable()?console.log("Storage supported by browser"):console.log("Local storage not supported");var e=D.getAllEntries();this.$data.entries=e}},O={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-8-desktop  is-offset-2-desktop"},[t("InputComponent",{on:{"add-entry":this.addEntry}}),this._v(" "),t("Listing",{attrs:{listEntries:this.entries},on:{"delete-entries":this.deleteEntries}})],1)])},staticRenderFns:[]};var B=n("VU/8")(L,O,!1,function(e){n("tl1C")},"data-v-1c40def0",null).exports;r.a.use(s.a);var I=new s.a({routes:[{path:"/",name:"Main",component:B}]}),T=n("MMSg"),j=n.n(T);n("doPI");r.a.use(j.a),r.a.config.productionTip=!1,new r.a({el:"#app",router:I,components:{App:a},template:"<App/>"})},PTBG:function(e,t){},doPI:function(e,t){},gFsk:function(e,t){},muuy:function(e,t){},tl1C:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.48b7916208ec40751f41.js.map